function openModal(n,t=null,i=null,r=true){_modalStack.length==0&&$("#modal").show().animate({opacity:1},10);const u=n.replaceAll("/","_");_modalStack.push(u);const f=function(n){$("#modal").append("<div id='"+u+"' class='modal'><div class='view animated slide'><\/div><\/div>");const o=$("#"+u),t=$("#"+u+" .view"),s=r?"<span class='close'>&times;<\/span>"+n:n;t.html(s);const f=$("#"+u+" .view div:first"),e=f.attr("class");e!=undefined&&(f.removeClass(),t.addClass(e));r&&$("#"+u+" .close").click(function(){closeModal()});o.css("z-index",1e4+_modalStack.length);i!=null&&i(n);$("#"+u+" .modal").css("display","block")};post(n,t,f)}function closeModal(){const n=$("#"+_modalStack.pop());n.animate({opacity:0},100,function(){$(this).hide()});n.remove();_modalStack.length===0&&$("#modal").animate({opacity:0},100,function(){$(this).hide()})}function request(n,t,i=null,r=null){$.ajax({type:n,url:t,data:i,"async":!0,headers:{RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()},beforeSend:function(){showLoader()},success:function(n){r!=null&&r(n);hideLoader()},failure:function(n){alert(n)}})}function get(n,t=null,i=null){request("GET",n,t,i)}function post(n,t=null,i=null){request("POST",n,t,i)}function edit(n=null,t=0,i=null){const r="/"+n+"/Edit";request("POST",r,{id:t},i)}function update(n=null,t=null){const i="/"+n+"/Update",r=serialize("#"+n+"_Form");request("POST",i,r,t)}function remove(n=null,t=null,i=null){if(confirm("Eliminar?")==!0){const r="/"+n+"/Delete";request("POST",r,t,i)}}function filter(n,t){const i=function(t){var i="result_"+n.toLowerCase();$("#"+i).html(t);scrollToElement(i)},r="/"+n+"/filter";request("POST",r,t,i)}function sanitizeInput(n,t){switch(t){case"text":return n.replace(/</g,"&lt;").replace(/>/g,"&gt;");case"checkbox":return!!n;default:return n}}function serialize(n,t="Input."){var r=$(n),i={};return r.find(":input").each(function(){var r=$(this),f=r.attr("name"),u=r.val(),e=r.attr("type"),n;f&&(e==="checkbox"&&(u=r.prop("checked")),n=f.replace(t,""),i[n]?($.isArray(i[n])||(i[n]=[i[n]]),i[n].push(u)):i[n]=u)}),i}function Create(n){Edit(n,0)}function Edit(n,t){var i={id:t},r=function(){if(n=="Equipment"){EquipmentPart();$(".modal #Input_CategoryId").on("change",function(){EquipmentPart()})}$(".modal ."+n+"_Input").on("change",function(){Update(n)})};openModal("/"+n+"/Edit",i,r)}function Update(n){var t={input:serialize(".modal #"+n+"_Form")},i=function(t){$(".modal #Equipment_Form > #Input_Id").val(t);n=="Equipment"&&(EquipmentPart(),EquipmentFilter())};post("/"+n+"/Update",t,i)}function Association(n,t,i){var r="/"+n+"/"+t,u={parentId:i},f=function(){$(".association").on("change",function(){associationUpdate(n,t,$(this).val(),$(this).is(":checked"))})};openModal(r,u,f)}function AssociationUpdate(n,t,i,r){var u="/"+n+"/"+t+"Update",f={id:i,associated:r};post(u,f)}function autocomplete(n,t,i=null,r=null){$(n).autocomplete({source:function(n,r){$.ajax({url:t,type:"POST",dataType:"json",data:{term:n.term},success:function(n){if(hideLoader(),Array.isArray(n)){let t=n.map(function(n){return{id:n.id,label:n.title}});r(t);i!=null&&i(n)}else console.error("Parsed result is not an array:",n),i!=null&&i([])},error:function(){console.error("Autocomplete request failed");r([])}})},minLength:0,autoSelect:!0,autoFocus:!0,matchContains:!0,minChars:0,search:function(){showLoader()},select:function(n,t){return n.preventDefault(),r!=null&&r(t),!1}}).click(function(){$(this).autocomplete("search","*")})}function download(n,t){$.ajax({type:"POST","async":!0,url:n,data:t,xhrFields:{responseType:"blob"},beforeSend:function(){showLoader()},success:function(n,i,r){if(hideLoader(),r.getResponseHeader("Content-Disposition")){var u=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(r.getResponseHeader("Content-Disposition")),e=u!=null&&u[1]?u[1].replace(/['"]/g,""):"default_filename",f=document.createElement("a");f.download=e;f.href=window.URL.createObjectURL(t);f.click()}},failure:function(n){alert(n);hideLoader()}})}function loadScriptAndExecute(n,t,...i){var r=document.createElement("script");r.src=n;r.onload=function(){t(...i)};document.head.appendChild(r)}function back(){history.back();hideLoader()}function showLoader(){$("#loader").css("display","block")}function hideLoader(){$("#loader").css("display","none")}function printStart(){$("#printing").addClass("blink")}function printStop(){$("#printing").removeClass("blink")}function watch(n){console.log(JSON.stringify(n))}function scrollToElement(n){$("html").animate({scrollTop:$("#"+n).offset().top-220},0)}function isScrolledIntoView(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=$(n).offset().top,u=i+100;return u<=r&&i>=t}function hideKeyboard(){setTimeout(function(){var n=document.createElement("input");n.setAttribute("type","text");n.setAttribute("style","visibility: hidden; opacity: 0; -webkit-user-modify: read-write-plaintext-only;");document.body.appendChild(n);n.onfocus=function(){setTimeout(function(){n.setAttribute("style","display:none;");setTimeout(function(){document.body.removeChild(n);document.body.focus()},14)},200)};n.focus()},50)}function showPassword(n){var t=document.getElementById(n);t.type=t.type==="password"?"text":"password"}function wait(n){for(var t=(new Date).getTime(),i=t;i<t+n;)i=(new Date).getTime()}function subscription(n){const t=$(n).closest("form").attr("id"),i=function(n){return window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"generate_lead",formId:t}),$("#"+t+" span.message").text(n),!1};return post("/human/subscription",serialize("#"+t),i),!1}function calculateSettingAsThemeString({localStorageTheme:n,systemSettingDark:t}){return n!==null||n!==undefined?n:t.matches?"dark":"light"}function updateToggler({href:n,isDark:t}){const i=t?"icon-sun":"icon-moon";n.querySelector("i").className=i}function updateThemeOnHtml({theme:n}){document.querySelector("html").setAttribute("theme",n)}var _modalStack=[],$;$.ajaxSetup({cache:!1});$(document).keydown(function(n){n.keyCode===27&&closeModal()});$(document).ready(function(){function t(n,t){const i=new IntersectionObserver((n,i)=>{n.forEach(n=>{n.isIntersecting&&(setTimeout(()=>{n.target.classList.add("animated"),n.target.classList.add(t)}),i.unobserve(n.target))})},{threshold:0}),r=document.querySelectorAll(n);r.forEach(n=>{i.observe(n)})}var n,i;$(document).ajaxStart(function(){showLoader()});$(document).ajaxComplete(function(){hideLoader()});n=-100;document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();var i=document.querySelector(this.getAttribute("href"));i&&window.scrollTo({top:i.offsetTop+n,behavior:"smooth"})})});$(window).scroll(function(){var n=$(window).scrollTop();n>420?$("header nav").addClass("theme"):$("header nav").removeClass("theme")});$("body").animate({opacity:1},100);t(".card, .translucid","slide");t("img","fade");$("a:not([href^='#']):not(.fr-command):not([target='_blank']):not(.download)").click(function(){showLoader()});i=document.querySelectorAll("video.background");i.forEach(function(n){n.playbackRate=.6});$("form").submit(function(n){return(showLoader(),typeof $(this).valid=="function")?$(this).valid()?!0:(hideLoader(),n.preventDefault(),!1):!0})});$=jQuery.noConflict();const toggler=document.querySelector("[data-theme-toggle]"),localStorageTheme=localStorage.getItem("theme"),systemSettingDark=window.matchMedia("(prefers-color-scheme: dark)");let currentThemeSetting=calculateSettingAsThemeString({localStorageTheme,systemSettingDark});updateToggler({href:toggler,isDark:currentThemeSetting==="dark"});updateThemeOnHtml({theme:currentThemeSetting});toggler.addEventListener("click",()=>{const n=currentThemeSetting==="dark"?"light":"dark";localStorage.setItem("theme",n);updateToggler({href:toggler,isDark:n==="dark"});updateThemeOnHtml({theme:n});currentThemeSetting=n});